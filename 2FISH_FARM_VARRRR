wait(50)

-- ‚öôÔ∏è D·ªãch v·ª•
local HttpService = game:GetService("HttpService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- üåç PlaceId
local PLACE_WORLD_4 = 140403681187145
local PLACE_FISHING = 95635359880599
local PLACE_FARM = 119454325063278

-- üìÇ ƒê·ªçc log comboEventLog.json
local function readComboLog()
    local success, data = pcall(readfile, "comboEventLog.json")
    if not success or not data then return nil end
    local decoded = HttpService:JSONDecode(data)
    return decoded
end

-- üö™ H√†m teleport ri√™ng cho World4
local function teleportWorld4()
    game:GetService("ReplicatedStorage"):WaitForChild("Network"):WaitForChild("World4Teleport"):InvokeServer()
    task.wait(10) -- ch·ªù 3 ph√∫t

    if game.PlaceId ~= PLACE_WORLD_4 then
        print("‚ö†Ô∏è Teleport World4 l·∫ßn 1 th·∫•t b·∫°i, th·ª≠ l·∫°i...")
        game:GetService("ReplicatedStorage"):WaitForChild("Network"):WaitForChild("World4Teleport"):InvokeServer()
        task.wait(10)

        if game.PlaceId ~= PLACE_WORLD_4 then
            LocalPlayer:Kick("‚ö†Ô∏è Tele World4 th·∫•t b·∫°i!")
        else
            print("‚úÖ Teleport World4 l·∫ßn 2 th√†nh c√¥ng.")
        end
    else
        print("‚úÖ Teleport World4 l·∫ßn 1 th√†nh c√¥ng.")
    end
end

-- üîÅ Serverhop links (d√πng cho Farm/Fishing)
local function serverhopToFishing()
    local TeleportService = game:GetService("TeleportService")
    local Players = game:GetService("Players")
    local player = Players.LocalPlayer
    -- Reload game
    TeleportService:Teleport(95635359880599, player)
end
local function serverhopToFarm()
    local TeleportService = game:GetService("TeleportService")
    local Players = game:GetService("Players")
    local player = Players.LocalPlayer
    -- Reload game
    TeleportService:Teleport(119454325063278, player)
end

-- üß≠ Logic ch√≠nh
task.spawn(function()

while true do

    local logData = readComboLog()
    if not logData then
        warn("‚ö†Ô∏è Kh√¥ng ƒë·ªçc ƒë∆∞·ª£c file comboEventLog.json")
        return
    end

local fishDone = logData.fish and logData.fish.done
local farmDone = logData.farm and logData.farm.done

    if fishDone and farmDone then
        -- ‚úÖ C·∫£ 2 ƒë√£ ƒë·ªß
        if game.PlaceId == PLACE_WORLD_4 then
            print("‚úÖ ƒêang ·ªü World4 v√† ƒë√£ ƒë·ªß Farm + Fishing ‚Üí D·ª´ng script.")
            return
        else
            game:Shutdown() 
						Players.LocalPlayer:Kick("kick_done_2compo")
        end
    else
        -- ‚è∏ Ch∆∞a ƒë·ªß 30p
        if game.PlaceId == PLACE_WORLD_4 then
            if not farmDone then
                print("‚û°Ô∏è Serverhop qua Farm...")
                serverhopToFarm()
            elseif not fishDone then
                print("‚û°Ô∏è Serverhop qua Fishing...")
                serverhopToFishing()
            else
                print("‚ö†Ô∏è Tr∆∞·ªùng h·ª£p b·∫•t th∆∞·ªùng: farmDone=", farmDone, " fishDone=", fishDone)
            end
        else
            print("‚è∏ Ch∆∞a ƒë·ªß , nh∆∞ng kh√¥ng ·ªü World4 ‚Üí Kh√¥ng l√†m g√¨.")
        end
    end

wait(30)	
end	


end)

task.spawn(function()
	task.wait(50)
    if game.PlaceId == 140403681187145 then
		warn("OK")
		return
	end
warn("25*60")
	wait(20*60)
warn("Kick")
	if game.PlaceId ~= 140403681187145 then
		game:Shutdown() 
Players.LocalPlayer:Kick("kickcompo")
	end
end)
