
task.wait(150)


local Save = require(game:GetService("ReplicatedStorage").Library.Client.Save)
local rank = Save.Get().Rank

if rank < 7 then

	if game.PlaceId == 95635359880599 or game.PlaceId == 119454325063278 then
		local Players = game:GetService("Players")
		local TeleportService = game:GetService("TeleportService")
		TeleportService:Teleport(8737899170, LocalPlayer)
		wait(10)
	end

    return
end




local Save = require(game:GetService("ReplicatedStorage").Library.Client.Save)
local rank = Save.Get().Rank

if rank < 8 then
	return
end
-- âš™ï¸ Services
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local LocalPlayer = Players.LocalPlayer

-- ðŸŒ PlaceIds
local PLACE_WORLD_4 = 140403681187145
local PLACE_FISHING = 119454325063278 	--95635359880599
local PLACE_FARM = 95635359880599 		--119454325063278

-- ðŸ“‚ Äá»c file comboEventLog.json an toÃ n
local function readComboLog()
	for _ = 1, 3 do
		local success, data = pcall(readfile, "comboEventLog.json")
		if success and data then
			local ok, decoded = pcall(HttpService.JSONDecode, HttpService, data)
			if ok and type(decoded) == "table" then return decoded end
		end
		task.wait(1)
	end
	return nil
end

-- ðŸ” Teleport Functions
local function serverhopTo(placeId)
	TeleportService:Teleport(placeId, LocalPlayer)
end

-- ðŸ§­ Main Checker
task.spawn(function()
	while true do
		local logData = readComboLog()
		if not logData then
			warn("âš ï¸ KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file comboEventLog.json (3 láº§n).")
			break
		end

		local fishDone = logData.fish and logData.fish.done
		local farmDone = logData.farm and logData.farm.done

		if fishDone and farmDone then
			if game.PlaceId == PLACE_WORLD_4 then
				warn("âœ… ÄÃ£ á»Ÿ World4 vÃ  Ä‘á»§ farm+fish. Dá»«ng script.")
				break
			else
				warn("âœ… Äá»§ farm+fish. Shutdown vÃ  Kick...")
				game:Shutdown()
				LocalPlayer:Kick("kick_done_2compo")
				break
			end
		elseif game.PlaceId == PLACE_WORLD_4 then
			if not farmDone then
				warn("âž¡ï¸ Teleport Ä‘áº¿n FARM...")
				serverhopTo(PLACE_FARM)
			elseif not fishDone then
				warn("âž¡ï¸ Teleport Ä‘áº¿n FISHING...")
				serverhopTo(PLACE_FISHING)
			else
				warn("âš ï¸ Lá»—i logic khÃ´ng xÃ¡c Ä‘á»‹nh.")
			end
		else
			warn("â¸ ChÆ°a Ä‘á»§ combo, vÃ  khÃ´ng á»Ÿ World4 â†’ chá»...")
		end

		task.wait(30)
	end
end)

-- ðŸ§¨ Timeout náº¿u khÃ´ng vÃ o World4 trong 20 phÃºt
task.spawn(function()
	task.wait(30)
	if game.PlaceId == PLACE_WORLD_4 then return end

	warn("â± Äáº¿m ngÆ°á»£c 20 phÃºt Ä‘á»ƒ vÃ o World4...")
	task.wait(30 * 60)

	if game.PlaceId ~= PLACE_WORLD_4 then
		warn("âŒ Timeout â†’ Kick do khÃ´ng vÃ o Ä‘Æ°á»£c World4.")
		game:Shutdown()
		LocalPlayer:Kick("kickcompo")
	end
end)
