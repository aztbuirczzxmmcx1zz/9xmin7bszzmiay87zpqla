Y_or_N_delay_60s_farming = "N"
wait(30)
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

local PLACE_ID = 119454325063278
local check_and_tele_w = 4 -- Thay b·∫±ng 3 ho·∫∑c 4 n·∫øu c·∫ßn

local TeleportMapping = {
    [3] = "World3Teleport",
    [4] = "World4Teleport"
}

-- N·∫øu ƒëang ·ªü ƒë√∫ng map c·∫ßn tho√°t
if game.PlaceId == PLACE_ID then
    
if Y_or_N_delay_60s_farming == "Y" then
        wait(30)
    end

    local teleportName = TeleportMapping[check_and_tele_w]
    
    if teleportName then
        for attempt = 1, 3 do
            local success, result = pcall(function()
                return ReplicatedStorage:WaitForChild("Network"):WaitForChild(teleportName):InvokeServer()
            end)

            warn(string.format("üåÄ Attempt %d: teleport %s - success: %s", attempt, teleportName, tostring(success)))
            
            wait(20)

            -- N·∫øu ƒë√£ teleport th√†nh c√¥ng (kh√¥ng c√≤n ·ªü PLACE_ID), th√¨ tho√°t v√≤ng l·∫∑p
            if game.PlaceId ~= PLACE_ID then
                warn("‚úÖ ƒê√£ teleport th√†nh c√¥ng!")
                break
            end

            -- N·∫øu ƒë·∫øn l·∫ßn th·ª© 3 v·∫´n ch∆∞a r·ªùi kh·ªèi map ‚Üí kick
            if attempt == 3 and game.PlaceId == PLACE_ID then
                warn("‚ùå Teleport th·∫•t b·∫°i 3 l·∫ßn. Tho√°t game...")
                player:Kick("Fail tele 3 times")
            end
        end
    else
        warn("‚ö†Ô∏è Kh√¥ng t√¨m th·∫•y teleport ph√π h·ª£p v·ªõi check_and_tele_w =", check_and_tele_w)
    end
end
